import{_ as C,o as I,D as k,l as b,m as p,q as u,c as t,s as y,A as e,P as _,b as n,d as s,y as i,z as x,F as A,B as F,E as S,h as D,j as d,C as l,G as L}from"./index.93ec84e7.js";const N={setup(){const g=S(),P=L(),f=g.params.profileId;async function r(){try{await u.getProfileById(f)}catch(o){_.error(o,"[getting profile by id]")}}async function m(){try{await p.getPostsByCreatorId(f)}catch(o){_.error(o,"[getting posts by creator id]")}}async function h(){try{await D.getAds()}catch(o){_.error(o,"[getting ads]")}}function a(){window.scrollTo(0,0)}return I(()=>{r(),m(),h(),a(),k(()=>g.params.profileId,(o,c)=>{o!=c&&P.go()})}),b(()=>{p.clearPosts(),u.clearProfile(),u.clearProfiles()}),{posts:t(()=>e.posts),profile:t(()=>e.profile),ads:t(()=>e.ads),older:t(()=>e.olderPage),newer:t(()=>e.newerPage),page:t(()=>e.postsPage),account:t(()=>e.account),async changePage(o){try{o=="older"&&(y.log("older"),await p.changePage(e.olderPage),a()),o=="newer"&&(y.log("newer"),await p.changePage(e.newerPage),a())}catch(c){_.error(c,"[change page]")}}}}},T={key:0,class:"ProfilePage container-fluid text-dark"},V={class:"row"},E={class:"col-12"},R={class:"row"},j={class:"col-12"},q={key:0,class:"col-12 my-3 custom-border rounded p-3 pt-4"},z={class:"row"},G={class:"col-12"},M={class:"custom-border rounded my-3 p-4"},U={key:1};function H(g,P,f,r,m,h){const a=l("ProfileDetails"),o=l("PostForm"),c=l("PostCard"),w=l("PageButtons"),v=l("Load");return r.profile?(d(),n("div",T,[s("div",V,[s("div",E,[i(a)])]),s("div",R,[s("div",j,[r.account.id==r.profile.id?(d(),n("div",q,[i(o)])):x("",!0)])]),s("div",z,[s("div",G,[(d(!0),n(A,null,F(r.posts,B=>(d(),n("div",M,[i(c,{post:B},null,8,["post"])]))),256)),s("div",null,[i(w)])])])])):(d(),n("div",U,[i(v)]))}const K=C(N,[["render",H]]);export{K as default};
