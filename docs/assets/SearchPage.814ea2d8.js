import{_ as S,o as x,l as B,m as d,q as p,c as t,s as u,A as e,P as _,b as c,d as o,F as m,B as w,y as g,E as C,h as T,j as n,C as h}from"./index.02935f58.js";const A={setup(){const a=C().params.searchTerm;async function P(){try{await T.getAds()}catch(s){_.error(s,"[getting ads]")}}function r(){window.scrollTo(0,0)}async function f(){try{u.log(a,"[search term]"),await d.searchPosts(a),await p.searchProfiles(a)}catch(s){_.error(s,"[search posts]")}}return x(()=>{P(),r(),f()}),B(()=>{d.clearPosts(),p.clearProfile(),p.clearProfiles()}),{searchTerm:a,posts:t(()=>e.posts),profiles:t(()=>e.profiles),ads:t(()=>e.ads),older:t(()=>e.olderPage),newer:t(()=>e.newerPage),page:t(()=>e.postsPage),async changePage(s){try{s=="older"&&(u.log("older"),await d.changePage(e.olderPage),r()),s=="newer"&&(u.log("newer"),await d.changePage(e.newerPage),r())}catch(l){_.error(l,"[change page]")}}}}},E={class:"container-fluid"},F={class:"row"},k={class:"col-12"},L=o("h1",{class:"text-center p-3 bg-secondary text-light mt-2 rounded custom-border mb-3"},"PROFILES",-1),N={class:"rounded custom-border"},O={class:"row"},R={class:"col-12"},V=o("h1",{class:"text-center p-3 bg-secondary text-light rounded custom-border"},"POSTS",-1),$={class:"custom-border rounded my-3 p-4"};function j(v,a,P,r,f,s){const l=h("ProfilesCard"),y=h("PostCard"),b=h("PageButtons");return n(),c("div",E,[o("div",F,[o("div",k,[L,(n(!0),c(m,null,w(r.profiles,i=>(n(),c("div",N,[g(l,{profile:i},null,8,["profile"])]))),256))])]),o("div",O,[o("div",R,[V,(n(!0),c(m,null,w(r.posts,i=>(n(),c("div",$,[g(y,{post:i},null,8,["post"])]))),256)),o("div",null,[g(b)])])])])}const I=S(A,[["render",j]]);export{I as default};
